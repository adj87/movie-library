(this["webpackJsonpmovie-library"]=this["webpackJsonpmovie-library"]||[]).push([[0],{45:function(e){e.exports=JSON.parse('{"screens":{"home":"Home","movies":"Movies","actors":"Actors","companies":"Companies","movieCreate":"Create Movie"},"all-rights-reserved":"All rights reserved ","by":"By","watch-in":"Watch in","movie":{"title":"Title","poster":"Poster","genre":"Genre","actors":"Actors","company":"Company","year":"Year","duration":"Duration","imdbRating":"Rating"}}')},46:function(e){e.exports=JSON.parse('{"screens":{"home":"Home","movies":"Pel\xedculas","actors":"Actores","companies":"Estudios","movieCreate":"Crear Pel\xedcula"},"all-rights-reserved":"Todos los derechos reservados ","by":"Por","watch-in":"Ver en","movie":{"title":"T\xedtulo","poster":"Poster","genre":"G\xe9nero","actors":"Actores","company":"Estudio","year":"A\xf1o","duration":"Duracion","imdbRating":"Puntuaci\xf3n"}}')},52:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(19),s=n.n(i),o=(n(52),n(15)),r=n(4),l=n(26),d=n(17),m=Object(d.b)({name:"movies",initialState:{list:[],loading:!1},reducers:{setMovies:function(e,t){e.list=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),u=m.actions,j=u.setMovies,b=u.setLoading,x=m.reducer,v=Object(d.b)({name:"movieDetail",initialState:{loading:!1,movie:null},reducers:{setMovie:function(e,t){e.movie=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),f=v.actions,p=f.setMovie,g=f.setLoading,O=v.reducer,h=Object(d.b)({name:"movieCreate",initialState:{loading:!1,actors:[],companies:[]},reducers:{setCompanies:function(e,t){e.companies=t.payload},setActors:function(e,t){e.actors=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),y=h.actions,N=y.setCompanies,C=y.setActors,k=y.setLoading,w=h.reducer,P=Object(d.a)({reducer:{movies:x,movieDetail:O,movieCreate:w}}),L=function(){return Object(l.b)()},T=l.c,D=n(1),F=function(e){var t=e.children;return Object(D.jsx)("div",{className:"md:mx-12 lg:mx-16 xl:mx-40 mt-12 xs:mt-32",children:t})},S=n(14),z=n(12),M=n(77),R=function(e){var t=e.lang,n=e.i18n,c=n.language===t?"text-secondary font-bold text-xl":"";return Object(D.jsx)("span",{className:"mr-4 cursor-pointer ".concat(c),onClick:function(){return n.changeLanguage(t)},children:t.toUpperCase()})},A=function(e){var t=e.text,n=Object(r.f)().pathname,c=Object(r.e)(),a=Object(M.a)(),i=a.t,s=a.i18n,o=/movies\/\d+/.test(n)||n.includes("movies/new");return Object(D.jsxs)("div",{className:"flex justify-items-center items-center mb-8 sticky top-0 bg-primary z-10",children:[Object(D.jsx)(S.a,{icon:o?z.a:z.b,className:"cursor-pointer hover:text-secondary transition transform transition-all mr-4",size:"2x",onClick:o?c.goBack:function(){return document.body.classList.add("aside-menu-open")}}),Object(D.jsx)("p",{className:"font-bold flex-1 xs:text-center text-left text-3xl xs:text-5xl ellipsis-effect",children:i("".concat(t))}),Object(D.jsx)(R,{lang:"es",i18n:s}),Object(D.jsx)(R,{lang:"en",i18n:s})]})},E=function(e){var t=e.movie,n=e.onClick;return Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"mb-6 ellipsis-effect font-semibold",children:t.title}),Object(D.jsx)("div",{className:"h-40 bg-secondary transform hover:scale-110 transition-all rounded-lg cursor-pointer border border-primary-light",style:{backgroundImage:"url(".concat(t.poster,")"),backgroundPosition:"center"},onClick:n}),Object(D.jsx)("div",{className:"mt-1 flex flex-row-reverse flex-wrap ",children:t.genre.map((function(e){return Object(D.jsx)("span",{className:"px-4 bg-primary-light rounded-lg ml-2 cursor-default text-xs mt-1",children:"#".concat(e)},"genre-tag-".concat(e))}))})]})},_="https://my-json-server.typicode.com/adj87/movie-library",J=function(){var e=L(),t=Object(M.a)().t,n=T((function(e){return e.movies.list})),a=Object(r.e)().push;return Object(c.useEffect)((function(){e(b(!0)),fetch("".concat(_,"/movies")).then((function(e){return e.json()})).then((function(t){e(j(t)),e(b(!1))}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{text:t("screens.movies")}),Object(D.jsx)(F,{children:Object(D.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-12",style:{rowGap:"5rem"},children:n.map((function(e){return Object(D.jsx)(E,{movie:e,onClick:function(){return a("/movies/".concat(e.id))}},e.id)}))})}),Object(D.jsx)(S.a,{icon:z.d,className:"cursor-pointer fixed bottom-6 right-6 text-secondary transition-all hover:text-white hover:scale-110",size:"6x",onClick:function(){return a("/movies/new")}})]})},I=n(22),V=n(20),B=function(e){var t=e.title,n=e.list;return Object(D.jsxs)("div",{className:"text-left font-bold flex flex-col",children:[Object(D.jsx)("span",{className:"text-grey-400 border-grey-500 border-b-2 mb-2",children:t}),Object(D.jsx)("div",{className:"flex flex-col ",children:null===n||void 0===n?void 0:n.map((function(e){return Object(D.jsx)("p",{className:"text-xl",children:e},"".concat(t,"-").concat(e))}))})]})},G=function(){var e,t=L(),n=Object(M.a)().t,a=Object(r.g)().id,i=T((function(e){return e.movieDetail.movie}));return Object(c.useEffect)((function(){!function(e,t){e(g(!0)),Promise.all([fetch("".concat(_,"/movies/").concat(t)),fetch("".concat(_,"/companies?movies_like=").concat(t)),fetch("".concat(_,"/actors?movies_like=").concat(t))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=t,c=Object(V.a)(n,3),a=c[0],i=c[1],s=c[2],o=i[0].name,r=s.map((function(e){return"".concat(e.first_name," ").concat(e.last_name)})),l=Object(I.a)(Object(I.a)({},a),{},{actors:r,company:o});e(p(l)),e(g(!1))}))}(t,a)}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{text:null===i||void 0===i?void 0:i.title}),Object(D.jsxs)(F,{children:[Object(D.jsx)("div",{className:"h-60 bg-secondary rounded-lg border border-primary-light",style:{backgroundImage:"url(".concat(null===i||void 0===i?void 0:i.poster,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(D.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mt-4",children:[Object(D.jsxs)("div",{className:"text-center font-bold flex flex-col",children:[Object(D.jsx)("span",{className:"text-grey-400",children:n("movie.imdbRating")}),Object(D.jsx)("span",{className:"text-2xl",children:null===i||void 0===i?void 0:i.imdbRating})]}),Object(D.jsxs)("div",{className:"text-center font-bold flex flex-col",children:[Object(D.jsx)("span",{className:"text-grey-400",children:n("movie.duration")}),Object(D.jsx)("span",{className:"text-2xl",children:"".concat(null!==(e=null===i||void 0===i?void 0:i.duration)&&void 0!==e?e:""," m")})]}),Object(D.jsxs)("div",{className:"bg-primary-light rounded-lg text-center cursor-pointer",onClick:function(){return alert("Just faking \ud83d\ude04")},children:[n("watch-in"),Object(D.jsx)("span",{className:"text-red text-2xl font-bold",children:" NETFLIX"})]})]}),Object(D.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mt-16",children:[Object(D.jsx)(B,{list:null===i||void 0===i?void 0:i.actors,title:n("movie.actors")}),Object(D.jsx)(B,{list:[null===i||void 0===i?void 0:i.company],title:n("movie.company")}),Object(D.jsx)(B,{list:null===i||void 0===i?void 0:i.genre,title:n("movie.genre")})]}),Object(D.jsxs)("div",{className:"fixed bottom-4 right-4",children:[Object(D.jsx)(S.a,{icon:z.f,size:"3x",className:"text-red cursor-pointer",onClick:function(){return alert("TO DO")}}),Object(D.jsx)(S.a,{icon:z.c,size:"3x",className:"ml-6 text-secondary cursor-pointer",onClick:function(){return alert("TO DO")}})]})]})]})},H=n(31),Y=n(33),U=function(e){var t=e.value,n=e.label,c=e.onChange,a=e.name,i=e.type;return Object(D.jsxs)("div",{className:"flex flex-col",children:[Object(D.jsx)("label",{className:"text-grey-200 mb-2",children:n}),Object(D.jsx)("input",{className:"bg-transparent text-secondary border-grey-500 border-b-2 text-xl",value:t,name:a,onChange:function(e){return c(e.currentTarget.name,e.currentTarget.value)},type:null!==i&&void 0!==i?i:"text"})]})},W={id:void 0,title:void 0,poster:void 0,genre:void 0,year:void 0,duration:void 0,imdbRating:void 0,actors:void 0,company:void 0},X=function(){var e=Object(c.useState)(W),t=Object(V.a)(e,2),n=t[0],a=t[1],i=L(),s=Object(M.a)().t,o=T((function(e){var t=e.movieCreate;return[t.actors,t.companies]})),r=Object(V.a)(o,2),l=r[0],d=r[1],m=Object(c.useCallback)((function(e,t){a((function(n){return Object(I.a)(Object(I.a)({},n),{},Object(H.a)({},e,t))}))}),[]);return Object(c.useEffect)((function(){!function(e){e(k(!0)),Promise.all([fetch("".concat(_,"/actors")),fetch("".concat(_,"/companies"))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=t,c=Object(V.a)(n,2),a=c[0],i=c[1];e(C(a)),e(N(i)),e(k(!1))}))}(i)}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{text:s("screens.movieCreate")}),Object(D.jsx)(F,{children:Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),alert("The values are ".concat(JSON.stringify(n,null,2))),alert("TODO: Validation and send data to backend")},children:[Object(D.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-4",children:[Object(D.jsx)(U,{value:n.title,name:"title",label:s("movie.title"),onChange:m}),Object(D.jsx)(U,{value:n.poster,name:"poster",label:s("movie.poster"),onChange:m}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{className:"text-grey-200 mb-4",children:s("movie.genre")}),Object(D.jsx)(Y.a,{classNamePrefix:"react-select",options:[{value:"Fiction",label:"Fiction"},{value:"Drama",label:"Drama"}],isMulti:!0,value:n.genre,name:"genre",onChange:function(e,t){var n=t.name;m(n,e)}})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{className:"text-grey-200 mb-4",children:s("movie.actors")}),Object(D.jsx)(Y.a,{classNamePrefix:"react-select",options:l,isMulti:!0,getOptionValue:function(e){return e.id},value:n.actors,name:"actors",onChange:function(e,t){var n=t.name;m(n,e)},getOptionLabel:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{className:"text-grey-200 mb-4",children:"Company"}),Object(D.jsx)(Y.a,{classNamePrefix:"react-select",options:d,getOptionValue:function(e){return e.id},value:n.company,name:"company",onChange:function(e,t){var n=t.name;m(n,e)},getOptionLabel:function(e){return e.name}})]}),Object(D.jsx)(U,{value:n.year,name:"year",type:"number",label:s("movie.year"),onChange:m}),Object(D.jsx)(U,{value:n.duration,name:"duration",type:"number",label:s("movie.duration"),onChange:m}),Object(D.jsx)(U,{value:n.imdbRating,name:"imdbRating",type:"number",label:s("movie.imdbRating"),onChange:m})]}),Object(D.jsx)("div",{className:"my-16 text-center",children:Object(D.jsx)("button",{type:"submit",className:"px-16 py-2 text-xl bg-secondary rounded-md w-full sm:w-auto",children:"Enviar"})})]})})]})},q=[{href:"/movies",title:"movies"},{href:"/actors",title:"actors"},{href:"/companies",title:"companies"}],K=function(){var e=Object(r.f)(),t=Object(M.a)().t;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"w-full h-0 fixed top-0 left-0 bg-secondary z-20 bg-opacity-90 layer transition-all duration-500"}),Object(D.jsxs)("div",{className:"w-0 h-full bg-primary aside-menu fixed z-30 top-0 left-0 transition-all duration-500 overflow-hidden",children:[Object(D.jsxs)("div",{className:"flex justify-between align-center items-center",children:[Object(D.jsx)("span",{className:"font-bold text-3xl",children:"Movie Library"}),Object(D.jsx)(S.a,{icon:z.e,className:"text-white cursor-pointer",onClick:function(){return document.body.classList.remove("aside-menu-open")}})]}),Object(D.jsx)("div",{className:"flex flex-col mt-20",children:q.map((function(n,c){var a=e.pathname.includes(n.href)?"text-secondary  font-bold":"";return Object(D.jsx)(o.b,{to:n.href,className:"py-2 text-grey-600 text-xl ".concat(a," hover:text-white transition-all duration-500"),onClick:function(){return document.body.classList.remove("aside-menu-open")},children:t("screens.".concat(n.title))},"link ".concat(c))}))}),Object(D.jsxs)("div",{className:"bottom-0 absolute pb-8 font-extralight",children:[Object(D.jsxs)("p",{children:["\xa9 ".concat((new Date).getFullYear()," ").concat(t("all-rights-reserved"))," "]}),Object(D.jsxs)("p",{children:[t("by")," ",Object(D.jsx)("span",{className:"text-grey-400",children:"mr_jaurewi"})]})]})]})]})},Q=function(){var e=T((function(e){return e.movieDetail.loading||e.movies.loading||e.movieCreate.loading}));return Object(D.jsx)("div",{className:"w-full h-full fixed top-0 left-0 bg-primary z-40 bg-opacity-80 flex justify-center items-center ".concat(e?"block":"hidden"),children:Object(D.jsx)(S.a,{icon:z.g,spin:!0,size:"8x",className:"fas"})})},Z=function(e){var t=e.keyTranslation,n=Object(M.a)().t,c=Object(r.e)().push;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A,{text:n(t)}),Object(D.jsx)(F,{children:Object(D.jsxs)("p",{className:"text-2xl text-grey-600 text-center",children:["This page does not exist yet. Please go to ",Object(D.jsx)("span",{className:"text-secondary cursor-pointer font-bold",onClick:function(){return c("/movies")},children:n("screens.movies")})]})})]})},$=n(47),ee=n(28),te={en:{translation:n(45)},es:{translation:n(46)}},ne=($.a.use(ee.e).init({fallbackLng:"en",resources:te,keySeparator:".",interpolation:{escapeValue:!1}}),function(){return Object(D.jsxs)(l.a,{store:P,children:[Object(D.jsx)(Q,{}),Object(D.jsxs)(o.a,{basename:"/movie-library",children:[Object(D.jsx)(K,{}),Object(D.jsx)(r.a,{path:"/",component:function(){return Object(D.jsx)(Z,{keyTranslation:"screens.home"})},exact:!0}),Object(D.jsx)(r.a,{path:"/movies",component:function(){return Object(D.jsx)(J,{})},exact:!0}),Object(D.jsx)(r.a,{path:"/movies/:id",component:function(e){var t,n=e.match;return isNaN(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id)?null:Object(D.jsx)(G,{})},exact:!0}),Object(D.jsx)(r.a,{path:"/movies/new",component:function(){return Object(D.jsx)(X,{})},exact:!0}),Object(D.jsx)(r.a,{path:"/actors",component:function(){return Object(D.jsx)(Z,{keyTranslation:"screens.actors"})},exact:!0}),Object(D.jsx)(r.a,{path:"/companies",component:function(){return Object(D.jsx)(Z,{keyTranslation:"screens.companies"})},exact:!0})]})]})}),ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[76,1,2]]]);
//# sourceMappingURL=main.3889f727.chunk.js.map